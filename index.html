
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Selenium Test Results</title>
    <style>
        /* ... (keep the same CSS as before) ... */
    </style>
</head>
<body>
    <h1>Selenium Test Results</h1>
    <div id="allResults"></div>

    <div id="myModal" class="modal">
        <span class="close">&times;</span>
        <img class="modal-content" id="modalImg">
        <div id="zoomControls">
            <button id="zoomIn">+</button>
            <button id="zoomOut">-</button>
        </div>
    </div>

    <script>
        const testResults = [{"date": "2024-09-23", "results": [{"url": "https://example.com", "browser": "chrome", "device": "desktop", "screenshot": "screenshots/example.com_chrome_desktop_20240923_075757.png", "status": "Pass"}, {"url": "https://example.com", "browser": "chrome", "device": "mobile", "screenshot": "screenshots/example.com_chrome_mobile_20240923_075759.png", "status": "Pass"}, {"url": "https://example.com", "browser": "firefox", "device": "desktop", "screenshot": "screenshots/example.com_firefox_desktop_20240923_075801.png", "status": "Pass"}, {"url": "https://example.com", "browser": "firefox", "device": "mobile", "screenshot": "screenshots/example.com_firefox_mobile_20240923_075804.png", "status": "Pass"}, {"url": "https://example.com", "browser": "edge", "device": "desktop", "screenshot": "screenshots/example.com_edge_desktop_20240923_075823.png", "status": "Pass"}, {"url": "https://example.com", "browser": "edge", "device": "mobile", "screenshot": "screenshots/example.com_edge_mobile_20240923_075825.png", "status": "Pass"}, {"url": "https://example.org", "browser": "chrome", "device": "desktop", "screenshot": "screenshots/example.org_chrome_desktop_20240923_075826.png", "status": "Pass"}, {"url": "https://example.org", "browser": "chrome", "device": "mobile", "screenshot": "screenshots/example.org_chrome_mobile_20240923_075828.png", "status": "Pass"}, {"url": "https://example.org", "browser": "firefox", "device": "desktop", "screenshot": "screenshots/example.org_firefox_desktop_20240923_075830.png", "status": "Pass"}, {"url": "https://example.org", "browser": "firefox", "device": "mobile", "screenshot": "screenshots/example.org_firefox_mobile_20240923_075833.png", "status": "Pass"}, {"url": "https://example.org", "browser": "edge", "device": "desktop", "screenshot": "screenshots/example.org_edge_desktop_20240923_075835.png", "status": "Pass"}, {"url": "https://example.org", "browser": "edge", "device": "mobile", "screenshot": "screenshots/example.org_edge_mobile_20240923_075836.png", "status": "Pass"}]}];

        function createTable(results) {
            // ... (keep the same createTable function as before) ...
        }

        function renderResults() {
            const allResultsDiv = document.getElementById('allResults');
            let allResultsHtml = '';

            testResults.forEach((testRun, index) => {
                allResultsHtml += `
                    <button class="accordion ${index === 0 ? 'active' : ''}">${testRun.date}${index === 0 ? ' (Latest)' : ''}</button>
                    <div class="panel" style="display: ${index === 0 ? 'block' : 'none'}">
                        ${createTable(testRun.results)}
                    </div>
                `;
            });
            allResultsDiv.innerHTML = allResultsHtml;

            // Set up accordion functionality
            const acc = document.getElementsByClassName("accordion");
            for (let i = 0; i < acc.length; i++) {
                acc[i].addEventListener("click", function() {
                    this.classList.toggle("active");
                    const panel = this.nextElementSibling;
                    if (panel.style.display === "block") {
                        panel.style.display = "none";
                    } else {
                        panel.style.display = "block";
                    }
                });
            }
        }

        // Modal functionality
        const modal = document.getElementById("myModal");
        const modalImg = document.getElementById("modalImg");
        const closeBtn = document.getElementsByClassName("close")[0];
        const zoomInBtn = document.getElementById("zoomIn");
        const zoomOutBtn = document.getElementById("zoomOut");
        let zoomLevel = 1;

        function openModal(imgSrc) {
            modal.style.display = "block";
            modalImg.src = imgSrc;
            zoomLevel = 1;
            modalImg.style.transform = `scale(${zoomLevel})`;
        }

        closeBtn.onclick = function() {
            modal.style.display = "none";
        }

        zoomInBtn.onclick = function() {
            zoomLevel += 0.1;
            modalImg.style.transform = `scale(${zoomLevel})`;
        }

        zoomOutBtn.onclick = function() {
            zoomLevel = Math.max(0.1, zoomLevel - 0.1);
            modalImg.style.transform = `scale(${zoomLevel})`;
        }

        // Initial render
        renderResults();
    </script>
</body>
</html>
    